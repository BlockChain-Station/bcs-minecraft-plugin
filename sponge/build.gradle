plugins {
    id 'org.spongepowered.plugin' version '0.5.2'
}

apply plugin: 'java'
apply plugin: 'maven'

sourceCompatibility = 1.8
targetCompatibility = 1.8
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

group = 'com.enjin.sponge'
version = '3.0.9-sponge'

sponge {
    plugin {
        id = group
        meta {
            name = 'Enjin Minecraft Plugin'
            version = version
            description = 'Enjin Minecraft Plugin for Sponge!'
        }
    }
}

jar {
    archiveName = 'EMPSponge.jar'
}

shadowJar {
    archiveName = 'EMPSponge.jar'

    dependencies {
        include(project(':common'))
        include(dependency('.*:fanciful'))
    }

    relocate 'net.minidev.json', 'com.enjin.shaded.json'
    relocate 'com.google.gson', 'com.enjin.shaded.gson'
    relocate 'com.thetransactioncompany.jsonrpc2', 'com.enjin.shaded.jsonrpc2'
}